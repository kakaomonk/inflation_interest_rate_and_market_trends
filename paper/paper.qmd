---
title: "The relationship between Inflation rate and Interest rate, and it can influence Stock and Cryptocurrency Market"
subtitle: "Market factors can be affected by Inflation rate and Interest rate changes"
author: 
  - Hyungsoo Parks
thanks: "Code and data are available at: https://github.com/kakaomonk/inflation_interest_rate_and_market_trends"
date: today
date-format: long
abstract: "This paper explores the correlation between inflation rate and interest rated since both of them increased significantly last few years and the both rates are the important factors of the global economy. Additionaly,  In this In the past few years, many stock items and cryptocurrencies fluctuated wildly. This research studies the corellation between the inflation rate and interest rate, and how the two important factors in economy impact to the stock and cryptocurrency market. Overall, the inflation rate and interest rate can be considered for future market trends."
format: pdf
number-sections: true
toc: true
bibliography: references.bib
---

```{r}
#| include: false
#| warning: false
#| message: false

library(tidyverse)
library(knitr)
library(here)
library(arrow)
```


# Introduction

Throughout last few years, the inflation rate and the interest rate have been increased rampantly after pandemic, and every government tried to control the inflation rate and interest rate, but it requires a long duration to stabilize the inflation rate and interest rate since those are related to almost all factors in economy. According to... @citezzzzzz[], stabilizing the rate would take for a while.

In this paper

You can and should cross-reference sections and sub-sections. We use @citeR and @rohan.

Furthermore, @sec-data explains the data cleaning process and variables of interest that are the most important factor of this research.



# Data {#sec-data}

The major 4 data sets in this research are "historical inflation rate in Canada"[@citeInflation], "historical interest rate in Canada"[@citeInterest], "historical NASDAQ index price"[@citeNasdaq], and "historical Bitcoin price"[@citeBitcoin]. The raw historical inflation data contains quarterly inflation rate in Canada last 10 years. The raw historical interest rate contains montly interest rate in Canada last 10 years. In case of the data sets contain NASDAQ index and Bitcoin price contain monthly price data of each index.


## Data Cleaning

```{r}
#| include: false
#| warning: false
#| message: false

all_cleaned = read_parquet(here("data/analysis_data/all_cleaned.parquet"))
```

The raw data sets were cleaned with R[@citeR], Tidyverse[@citeTidyverse], Lubridate[@citeLubridate]. Since the inflation rate and interest rate do not change frequently, the NASDAQ index price and Bitcoin price need to be analyzed in quarterly data. The collected daily raw NASDAQ index and Bitcoin price could be converted to quarter data by Lubridate[@citeLubridate] package.

## Variables of interest

The study focuses on the correlation between the inflation rate and the interest rate in Canada, and how they impact on the stock market and cryptocurrency price. The variables of interest in this study are 'CPI inflation rate', 'interest rate', 'NASDAQ index close price', and 'Bitcoin close price'. 
Note that 'CPI inflation rate' and 'interest rate' do not fluctuate as often as other variables. Thus, the study will focus on the quarter data rather than other periods.

Below tables[@tbl-cleaneddataexamples] are examples of the cleaned data sets.

```{r}
#| echo: false
#| eval: true
#| label: tbl-cleaneddataexamples
#| tbl-cap: "Example of Cleaned data sets"
#| warning: false

kable(all_cleaned)
```

According to [@tbl-cleaneddataexamples], all variables of interest are cleaned and combined properly by each quarter from the thrid quarter in 2014 to the fourth quarter of 2023.

```{r}
#| label: fig-rates
#| fig-cap: Relationship between Inflation and Interest rate
#| echo: false
#| warning: false
#| message: false

ggplot(all_cleaned, aes(x = Date)) +
  geom_line(aes(y = Inflation), color = 'red') +
  geom_line(aes(y = Interest), color = 'blue') +
  labs(title = "Relationship between Inflation and Interest rate",
       x = "Period", y = 'Rate(%)')

```
According to the graph the fluctuation of both factors are similar last 10 years, so 


### Note
The inflation rate and interest rate do not change as often as NASDAQ index and cryptocurrency, and the fluctuations are not severe compare to the others. On the other hand, there is a open time and close time for the stock market, but there cryptocurrency market never closes.

# Model {#sec-model}
First of all, the 

Here we briefly describe the Bayesian analysis model used to investigate... Background details and diagnostics are included in [Appendix -@sec-model-details].

## Model set-up

Define $y_i$ as the number of seconds that the plane remained aloft. Then $\beta_i$ is the wing width and $\gamma_i$ is the wing length, both measured in millimeters.  

\begin{align} 
y_i|\mu_i, \sigma &\sim \mbox{Normal}(\mu_i, \sigma) \\
\mu_i &= \alpha + \beta_i + \gamma_i\\
\alpha &\sim \mbox{Normal}(0, 2.5) \\
\beta &\sim \mbox{Normal}(0, 2.5) \\
\gamma &\sim \mbox{Normal}(0, 2.5) \\
\sigma &\sim \mbox{Exponential}(1)
\end{align}

We run the model in R [@citeR] using the `rstanarm` package of @rstanarm. We use the default priors from `rstanarm`.


### Model justification

We expect a positive relationship between the size of the wings and time spent aloft. In particular...

We can use maths by including latex between dollar signs, for instance $\theta$.


# Results {#sec-results}

Our results are summarized in @tbl-modelresults.

```{r}
#| echo: false
#| eval: true
#| warning: false
#| message: false

library(rstanarm)

#first_model <-
#  readRDS(file = here::here("models/first_model.rds"))
```

```{r}
#| echo: false
#| eval: true
#| label: tbl-modelresults
#| tbl-cap: "Explanatory models of flight time based on wing width and wing length"
#| warning: false

#modelsummary::modelsummary(
#  list(
#    "First model" = first_model
#  ),
#  statistic = "mad",
#  fmt = 2
#)
```




# Discussion {#sec-discussion}

## First discussion point {#sec-first-point}

If my paper were 10 pages, then should be be at least 2.5 pages. The discussion is a chance to show off what you know and what you learnt from all this. 

## Second discussion point

## Third discussion point

## Weaknesses and next steps

Weaknesses and next steps should also be included.

\newpage

\appendix

# Appendix {-}


# Additional data details

# Model details {#sec-model-details}

## Posterior predictive check

In @fig-ppcheckandposteriorvsprior-1 we implement a posterior predictive check. This shows...

In @fig-ppcheckandposteriorvsprior-2 we compare the posterior with the prior. This shows... 

```{r}
#| eval: true
#| echo: false
#| message: false
#| warning: false
#| label: fig-ppcheckandposteriorvsprior
#| layout-ncol: 2
#| fig-cap: "Examining how the model fits, and is affected by, the data"
#| fig-subcap: ["Posterior prediction check", "Comparing the posterior with the prior"]

#pp_check(first_model) +
#  theme_classic() +
#  theme(legend.position = "bottom")

#posterior_vs_prior(first_model) +
#  theme_minimal() +
#  scale_color_brewer(palette = "Set1") +
#  theme(legend.position = "bottom") +
#  coord_flip()
```

## Diagnostics

@fig-stanareyouokay-1 is a trace plot. It shows... This suggests...

@fig-stanareyouokay-2 is a Rhat plot. It shows... This suggests...

```{r}
#| echo: false
#| eval: true
#| message: false
#| warning: false
#| label: fig-stanareyouokay
#| fig-cap: "Checking the convergence of the MCMC algorithm"
#| fig-subcap: ["Trace plot", "Rhat plot"]
#| layout-ncol: 2

#plot(first_model, "trace")

#plot(first_model, "rhat")
```



\newpage


# References


